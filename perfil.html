<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Prueba envío EmailJS con formulario</title>
  <script src="https://cdn.emailjs.com/sdk/3.2.0/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("chmtvfZ0tbjjUHv2-");
    })();

    function enviarCorreo(e) {
      e.preventDefault();

      const correo = document.getElementById('correo').value.trim();
      const nombre = document.getElementById('nombre').value.trim();

      if(!correo || !nombre) {
        alert('Por favor completa correo y nombre');
        return;
      }

      const templateParams = {
        user_email: correo,
        user_name: nombre,
        message: "Gracias por registrarte en Ferretería El Señor de Muruhuay. ¡Te damos la bienvenida!"
      };

      emailjs.send('service_l4mh9qh', 'template_dcophn8', templateParams)
      .then(function(response) {
        alert('Correo enviado correctamente');
        console.log('Éxito:', response.status, response.text);
      }, function(error) {
        alert('Error al enviar correo');
        console.error('Error:', error);
      });
    }
  </script>
</head>
<body>
  <h2>Formulario de prueba EmailJS</h2>
  <form id="testForm" onsubmit="enviarCorreo(event)">
    <label for="correo">Correo:</label><br />
    <input type="email" id="correo" required /><br /><br />

    <label for="nombre">Nombre:</label><br />
    <input type="text" id="nombre" required /><br /><br />

    <button type="submit">Enviar correo</button>
  </form>
</body>
</html>
